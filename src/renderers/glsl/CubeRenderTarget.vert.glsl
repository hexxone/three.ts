varying vec3 vWorldDirection;

vec3 transformDirection(in vec3 dir, in mat4 matrix) {

    return normalize((matrix * vec4(dir, 0.0)).xyz);

}

void main() {

    vWorldDirection = transformDirection(position, modelMatrix);

	#include <begin_vertex>
	#include <project_vertex>
}
