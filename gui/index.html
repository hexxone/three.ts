<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js gui</title>
		<style>
			body {
				font-family: Arial, sans-serif;
				font-size: 14px;
				margin: 0;
				overflow: hidden;
			}

			hr {
				border: 0px;
				border-top: 1px solid #ccc;
			}

		</style>
	</head>
	<body>

		<script type="text/javascript" src="../build/Three.js"></script>

		<script type="text/javascript" src="js/libs/signals.min.js"></script>

		<script type="text/javascript" src="js/UI.js"></script>
		<script type="text/javascript" src="js/ui/Viewport.js"></script>
		<script type="text/javascript" src="js/ui/Panel.js"></script>

		<script>

			var SIGNALS = signals;

			var signals = {

				objectAdded: new SIGNALS.Signal(),
				objectSelected: new SIGNALS.Signal(),
				windowResize: new SIGNALS.Signal()

			};

			//

			var viewport = new Viewport( signals );
			viewport.setWidth( '-webkit-calc(100% - 300px)' );
			viewport.setWidth( '-moz-calc(100% - 300px)' );
			viewport.setWidth( 'calc(100% - 300px)' );
			viewport.setHeight( '100%' );
			document.body.appendChild( viewport.dom );

			var panel = new Panel( signals );
			panel.setX( '-webkit-calc(100% - 300px)' );
			panel.setX( '-moz-calc(100% - 300px)' );
			panel.setX( 'calc(100% - 300px)' );
			document.body.appendChild( panel.dom );

			//

			var geometry = new THREE.SphereGeometry( 75, 25, 15 );
			var material = new THREE.MeshBasicMaterial( { color: Math.random() * 0xffffff } );
			var mesh = new THREE.Mesh( geometry, material );

			signals.objectAdded.dispatch( mesh );

			//

			var onWindowResize = function ( event ) {

				signals.windowResize.dispatch();

			};

			onWindowResize();

			window.addEventListener( 'resize', onWindowResize, false );

		</script>
	</body>
</html>
